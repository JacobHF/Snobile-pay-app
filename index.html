<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hjem</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #000;
      color: #fff;
    }
    .section-title {
      margin: 20px 16px 10px;
      font-size: 15px;
      font-weight: 600;
    }
    .card-row {
      display: flex;
      gap: 12px;
      margin: 0 16px;
      overflow-x: auto;
    }
    .card {
      flex: 0 0 140px;
      background: #1c1c1e;
      padding: 16px;
      border-radius: 12px;
      font-size: 14px;
    }
    .card span {
      display: block;
      margin-top: 6px;
      color: #aaa;
      font-size: 13px;
    }

    .contact-list {
      margin: 0 16px;
      background: #1c1c1e;
      border-radius: 12px;
      overflow: hidden;
    }
    .contact {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      border-bottom: 1px solid #2c2c2e;
      cursor: pointer;
    }
    .contact:last-child {
      border-bottom: none;
    }
    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #6366f1;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
      font-size: 16px;
      font-weight: 600;
    }
    .contact-info {
      flex: 1;
    }
    .contact-name {
      font-size: 15px;
      font-weight: 500;
    }
    .contact-sub {
      font-size: 13px;
      color: #aaa;
    }
    .contact-amount {
      font-size: 14px;
      font-weight: 500;
    }

    .wishlist {
      margin: 20px 0;
      padding: 16px;
      background: #1c1c1e;
      display: flex;
      justify-content: space-around;
    }
    .wishlist button {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: none;
      border: none;
      color: #fff;
      cursor: pointer;
      font-size: 13px;
    }
    .wishlist button span {
      margin-top: 6px;
    }

    /* Bottom Nav */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #1c1c1e;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-top: 1px solid #2c2c2e;
    }
    .bottom-nav div {
      text-align: center;
      font-size: 12px;
      color: #aaa;
    }
    .bottom-nav .active {
      color: #0a84ff;
    }
  </style>
</head>
<body>

  <div class="section-title">Nu</div>
  <div class="card-row">
    <div class="card">üì¨ Skylder dig <span>1 afventer</span></div>
    <div class="card">üßë‚Äçü¶± Anmodninger <span>0 nye</span></div>
    <div class="card">üí∞ Box <span>Saml penge ind</span></div>
  </div>

  <div class="section-title">Seneste</div>
  <div class="contact-list" id="recentList"></div>

  <div class="section-title">Forslag</div>
  <div class="contact-list">
    <div class="contact" onclick="goNext()">
      <div class="avatar">H√ò</div>
      <div class="contact-info">
        <div class="contact-name">Herman Rosen√∏rn...</div>
      </div>
    </div>
    <div class="contact" onclick="goNext()">
      <div class="avatar">JH</div>
      <div class="contact-info">
        <div class="contact-name">Jesper H√∏gh Ste...</div>
      </div>
    </div>
    <div class="contact" onclick="goNext()">
      <div class="avatar">HF</div>
      <div class="contact-info">
        <div class="contact-name">Hanne H√∏gh Fjel...</div>
      </div>
    </div>
    <div class="contact" onclick="goNext()">
      <div class="avatar">CF</div>
      <div class="contact-info">
        <div class="contact-name">Cecilia H√∏gh Fjel...</div>
      </div>
    </div>
    <div class="contact" onclick="goNext()">
      <div class="avatar">EH</div>
      <div class="contact-info">
        <div class="contact-name">Else H√∏gh Hansen</div>
      </div>
    </div>
    <div class="contact" onclick="goNext()">
      <div class="avatar">SJ</div>
      <div class="contact-info">
        <div class="contact-name">Silas S√∏by Jensen</div>
      </div>
    </div>
  </div>

  <div class="section-title">√ònskeliste</div>
  <div class="wishlist">
    <button onclick="goNext()">‚¨ÜÔ∏è<span>Send</span></button>
    <button>‚¨áÔ∏è<span>Anmod</span></button>
    <button>üì∑<span>Scan</span></button>
    <button>üî≥<span>Vis QR</span></button>
  </div>

  <div class="bottom-nav">
    <div class="active">üè†<br>Hjem</div>
    <div>üïí<br>Aktiviteter</div>
    <div>üë•<br>Grupper</div>
    <div>üë§<br>Mig</div>
  </div>

  <script>
    function goNext() {
      window.location.href = "next.html";
    }

    // Load saved profiles when page opens
    window.addEventListener("DOMContentLoaded", () => {
      const list = document.getElementById("recentList");
      let sentProfiles = JSON.parse(localStorage.getItem("sentProfiles") || "[]");

      function timeAgo(ts) {
        const diff = Math.floor((Date.now() - ts) / 1000);
        if (diff < 60) return `Du sendte ¬∑ ${diff} sekund${diff !== 1 ? 'er' : ''}`;
        if (diff < 3600) return `Du sendte ¬∑ ${Math.floor(diff/60)} minut${Math.floor(diff/60) !== 1 ? 'ter' : ''}`;
        if (diff < 86400) return `Du sendte ¬∑ ${Math.floor(diff/3600)} time${Math.floor(diff/3600) !== 1 ? 'r' : ''}`;
        return "Du sendte ¬∑ i g√•r";
      }

      // Render all profiles
      function renderProfiles() {
        list.innerHTML = "";
        sentProfiles.forEach(profile => {
          const contact = document.createElement("div");
          contact.className = "contact";
          contact.innerHTML = `
            <div class="avatar">${profile.initials}</div>
            <div class="contact-info">
              <div class="contact-name">${profile.name}</div>
              <div class="contact-sub">${timeAgo(profile.time)}</div>
            </div>
            <div class="contact-amount">0,00 kr.</div>
          `;
          list.appendChild(contact);
        });
      }

      // First render
      renderProfiles();

      // Update "Du sendte ¬∑ X sekunder" every second
      setInterval(renderProfiles, 1000);
    });
  </script>

</body>
</html>
